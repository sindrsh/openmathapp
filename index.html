<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="menu_styles.css">
        <style>
            .subject-menu {
                font-size: larger;
                display: grid;
                grid-template-columns: auto auto;
                gap: 10px;
            }
            .subject-menu a {
                width: 200px;
                padding: 20px;
            }
        </style>
    </head>

    <body>
        <div id="loginPage" hidden>
            <label for="uname"><b>Username</b></label>
    <input type="text" placeholder="Enter Username" name="uname" required id="username">

    <label for="psw"><b>Password</b></label>
    <input type="password" placeholder="Enter Password" name="psw" required id="password">

    <button id="loginButton">Login</button>
    <label>
      <input type="checkbox" checked="checked" name="remember" id="rememberLoginInfo"> Remember me
    </label>
        </div>

        <div class="subject-menu">
            <a href="./assessments/aut/aut.html">Gangetabellen</a>
            <a href="./assessments/plus/plus.html">Addisjon</a>
            <a href="./assessments/counting/counting.html">Telling</a>
            <a href="./assessments/neg/neg.html">Negative tal</a>
        <div> 
    </body>


    <script type="module">

        //import { signIn } from "./data_module.js"
        //document.getElementById("mainPage").hidden = true
        let loginButton = document.getElementById("loginButton")
        loginButton.addEventListener("click", login)
        /*
        if (localStorage.getItem("username")) {
            document.getElementById("username").value = localStorage.getItem("username")
        }
        if (localStorage.getItem("password")) {
            document.getElementById("password").value = localStorage.getItem("password")
        }
        */
        function login() {
            let username = document.getElementById("username").value
            let password = document.getElementById("password").value
            signIn(username, password).then( (value) => {
                if (value) {
                    if (document.getElementById("rememberLoginInfo").checked == true) {
                        localStorage.setItem("username", username)
                        localStorage.setItem("password", password)
                    }
                } else {
                    alert("Brukernavn eller passord er FULLSTENDIG FEIL!")
                }   
            }
            )
        } 





    </script>    
    </body
</html>

