<!DOCTYPE html>
<html>
        <script type="module">
            import { Figure } from "../../figures/figure_modules.js"
            import { CalcTask } from "../task_modules.js"
            import { shuffleArray, getRandomInt } from "../global_modules.js"
            

            const infoFig = new Figure()
            let oneSize = 30
            infoFig.makeBoundingBox({xSize: 500, ySize: 320})
            for (let i=0; i<10; ++i) {
                infoFig.makeRectangle({x: i*oneSize, y: 0, width: oneSize, height: 10*oneSize, fill: "green"})
            }
            infoFig.makeEquals({number: 1, pos: [300, 140]})
            infoFig.move(infoFig.svgContainer, 2, 10)

            let fig = new Figure()
            
            fig.makeBoundingBox({xSize: 305, ySize: 305})
            
            let ints = [1, 2, 3, 4, 5, 6, 7, 8, 9]
            shuffleArray(ints)

            let task = new CalcTask(makeTask, 9)
            task.prepare({figure: fig, info: infoFig.svgElement})
            
            function makeTask() {
                let a = ints.pop()
                let rectangles = []
                for (let i=0; i<10; ++i) {
                    rectangles.push(fig.makeRectangle({x: 2+i*oneSize, y: 2, width: oneSize, height: 10*oneSize}))
                }
                shuffleArray(rectangles)

                for (let i=0; i<a; ++i) {
                    rectangles[i].setAttribute("fill", "green")
                }
                return a/10
                                            
            }

        </script>
</html>

