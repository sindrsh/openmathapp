<!DOCTYPE html>
<html>
        <script type="module">
            import { TaskFigure } from "../../figures/figure_modules.js"
            import { CalcTask } from "../task_modules.js"
            import { shuffleArray, getRandomInt } from "../global_modules.js"
            
            let numbers = [10, 11, 12, 14, 15, 16, 17, 18, 19, 20]
            let ySpace = 10
            let x = 600
            let y = 260
            let marginTopBottom = 10

            shuffleArray(numbers)
            const infoFig = new TaskFigure(20)
            infoFig.makeBoundingBox(500, 220)
            let one = infoFig.makeOnes(1)
            let hundred = infoFig.makeHundreds(1)
            infoFig.move(hundred, 200, 200)
            infoFig.makeText("= 1", 11.5, 5)
            infoFig.move(one, 300, 10)
            infoFig.makeText("= 1", 17.5, 1)

            const task = new CalcTask(makeTask, 5)
            let fig = new TaskFigure(20)
            fig.makeBoundingBox(650, 400, "black")
            var positions = []

            task.prepare({figure: fig})
            task.makeInfo(infoFig.svgElement)

            function makeTask(){
                let onesAmount = getRandomInt(0, 9)
                let ones = fig.makeOnes(onesAmount, {x: 30, y:13, addToSvg: true})
      
                let tensAmount = getRandomInt(0, 9)
                if (onesAmount == 0) {
                    tensAmount = getRandomInt(1, 9)
                }
                let tens = fig.makeTens(tensAmount, {x: 28, y: 13, addToSvg: true})
         
                let hundredsAmount = getRandomInt(0, 9)
                let hundreds = fig.makeHundreds(hundredsAmount, {x:15, y: 14, addToSvg:true})

                return onesAmount + 10*tensAmount + 100*hundredsAmount
            }
        </script>
</html>

