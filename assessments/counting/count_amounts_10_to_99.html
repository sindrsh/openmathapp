<!DOCTYPE html>
<html>
        <script type="module">
            import { Figure } from "../../figures/figure_modules.js"
            import { CalcTask } from "../task_modules.js"
            import { shuffleArray, getRandomInt } from "../global_modules.js"
            
            let numbers = [10, 11, 12, 14, 15, 16, 17, 18, 19, 20]
            let ySpace = 10
            let x = 400
            let y = 245
            let marginTopBottom = 10
            let size = (y-2*marginTopBottom-8*ySpace)/9

            shuffleArray(numbers)

            const task = new CalcTask(makeTask, 5)
            let fig = new Figure()
            var positions = []
            fig.makeBoundingBox({xSize: 400, ySize: 300, strokeColor: "black"})

            task.prepare({figure: fig})

           
           
            function makeTask(){
                let onesAmount = getRandomInt(0, 9)
                let ones = fig.makeOnes({amount: onesAmount, size: size, addToSvg: true, ySpace: ySpace})
                if (ones) {
                    fig.move(ones, x - 40, marginTopBottom)
                }
                let tensAmount = getRandomInt(0, 9)
                if (onesAmount == 0) {
                    tensAmount = getRandomInt(1, 9)
                }
                let tens = fig.makeTens({amount: tensAmount, addToSvg: true, xSpace: 15})
                if (tens) {
                    fig.move(tens, 300, 10)  
                }
                return onesAmount + 10*tensAmount
            }
        </script>
</html>

